$(".burger").click(function () {
    $(".header").toggleClass("_open")
    $("body").toggleClass("fixed-body")
})

Fancybox.defaults.placeFocusBack = false

$(".spoiler__show").click(function () {
    $(this).parents(".spoiler").toggleClass("_active")
    $(this).siblings(".spoiler__hidden").slideToggle()
})

$(".tile-card__img").click(function () {
    console.log("open")
    $("body").addClass("_white-fancy")

    // $("html")
})

Fancybox.bind("[data-fancybox]", {
    on: {
        closing: () => {
            console.log('close');
            $("body").removeClass("_white-fancy")
        },
    },
});

// onclick="Fancybox.show([
// {
//     src: 'img/@@img.webp',
//         thumb: 'img/@@img.webp',
// },
// {
//     src: 'img/@@img.webp',
//         thumb: 'img/@@img.webp',
// },
// {
//     src: 'img/@@img.webp',
//         thumb: 'img/@@img.webp',
// },
// ],{
//     animated : true,
//         on: {
//         closing: () => {
//             $('body').removeClass('_white-fancy')
//         }
//     }
// })"

function mainSlider() {
    var swiper = new Swiper('.main .swiper-container', {
        slidesPerView: 1,
        spaceBetween: 10,
        effect: 'fade',
        autoplay:{
            delay: 2000
        },
        fadeEffect: {
            // crossFade: true
        },
        pagination: {
            el: '.main .swiper-pagination',
            type: 'bullets',
            clickable: true,
        }
    })
}

function gallery() {
    var swiper = new Swiper(".gallery .mySwiper", {
        spaceBetween: 30,
        slidesPerView: 4,
        freeMode: true,
        watchSlidesProgress: true,
        navigation: {
            nextEl: '.tile-gallery__small .swiper-button-next',
            prevEl: '.tile-gallery__small .swiper-button-prev',
        },
    });
    var swiper2 = new Swiper(".gallery .mySwiper2", {
        spaceBetween: 10,
        thumbs: {
            swiper: swiper,
        },
        navigation: {
            nextEl: '.tile-gallery__big .swiper-button-next',
            prevEl: '.tile-gallery__big .swiper-button-prev',
        },
        pagination: {
            el: '.gallery .swiper-pagination',
            type: 'bullets',
            clickable: true,
        }
    });
}


mainSlider()
gallery()




$(".contacts__mob-select").click(function () {
    $(this).addClass("_active")
})


$(document).mouseup(function(e) {
    var div = $('.contacts__cities');
    if (!div.is(e.target) && div.has(e.target).length === 0) {
        if($(".contacts__mob-select").hasClass("_active")){
            $(".contacts__mob-select").removeClass("_active")
        }
    }
});

function tileGallery() {
    var swiper = new Swiper(".tile-gallery .mySwiper", {
        spaceBetween: 30,
        slidesPerView: 3,
        // freeMode: true,
        watchSlidesProgress: true,
        direction: 'vertical'
    });
    var swiper2 = new Swiper(".tile-gallery .mySwiper2", {
        spaceBetween: 10,
        thumbs: {
            swiper: swiper,
        },
        navigation: {
            nextEl: '.tile-gallery .swiper-button-next',
            prevEl: '.tile-gallery .swiper-button-prev',
        },
        pagination: {
            el: '.tile-modal .swiper-pagination',
            type: 'fraction',
            clickable: true,
        }
    });


    $(".tile-card__img").click(function () {
        let imgId = $(this).find("img").attr("data-img-id")
        console.log(imgId)
        $(".tile-modal").addClass("_active")

        swiper.slideTo(+imgId,5)
        swiper2.slideTo(+imgId,5)
    })
}


$(".tile-modal__close").click(function () {
    $(".tile-modal").removeClass("_active")
})


$(".tile-card__img img").each(function (index, el){

    $(el).attr("data-img-id",index)

    let imgTemplate = `
    <div class="swiper-slide">
        <img src="${$(el).attr('src')}" />
    </div>
    `

    $(".tile-gallery__big .swiper-wrapper").append(imgTemplate)
    $(".tile-gallery__small .swiper-wrapper").append(imgTemplate)
});
tileGallery()




$(document).ready(function() {
    // $('input[type="tel"]').mask('+7 999 999-9999', { autoclear: false }, { placeholder: '+7             ' });


});

//# sourceMappingURL=../sourcemaps/main.min.js.map
